import{A as R,c as G,a as M,p as A,w as $,d as B,u as N,b as P}from"./wallet-info-d6e1f398.js";import{m as c}from"./axios-ba43319b.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{V as n,a as l}from"./VRow-a0ca93d7.js";import{V as _}from"./VContainer-441eeeaf.js";import{V as I}from"./VDivider-72d739d6.js";import{r as L,o as i,k as d,w as s,a as e,ax as v,ab as F,b as m,e as g,l as y,V as b,c0 as S,j as p,c as T,f as w,F as V}from"./main-d206bd32.js";import{V as C}from"./VCard-951bbf41.js";import"./VMenu-493147e1.js";import"./index-d44c594b.js";import"./VImg-d26d8ca5.js";import"./VAvatar-28ee46d2.js";import"./VOverlay-4c179814.js";import"./dialog-transition-fd0c8240.js";import"./index-787269d6.js";import"./VSpacer-20b3e546.js";const j="/build/assets/favorite-file-71a23b1f.png",z="/build/assets/file-save-1c390715.png",E="/build/assets/open-file-591ec03b.png",J={components:{AnalyticsCongratulations:R},data(){return{userData:null,userToken:null,chart:G,card:M,paypal:A,wallet:$,docs:B,user:N,openFile:E,fileSave:z,fileFavorite:j,tFile:null,tRead:null,tFav:null,fileRandom:null,fileFav:null}},methods:{toDetailFile(a){this.$router.push(`/u-filedetail/${a}`)},getUserDataAndToken(){const a=localStorage.getItem("userData"),t=localStorage.getItem("userToken");a&&t&&(this.userData=JSON.parse(a),this.userToken=t)},async getTotalFileAvailable(){try{const a=await c.get("/user/total-file");if(a.status===200)this.tFile=a.data.data;else{const t=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",t)}}catch(a){const t=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",t)}},async getTotalFileRead(){try{const a=await c.get("/user/total-read");if(a.status===200)this.tRead=a.data.data;else{const t=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",t)}}catch(a){const t=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",t)}},async getTotalFileFav(){try{const a=await c.get("/user/total-fav");if(a.status===200)this.tFav=a.data.data;else{const t=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",t)}}catch(a){const t=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",t)}},async getDashboard(){try{const a=await c.get("/user/index");if(a.status===200)this.fileRandom=a.data.data;else{const u=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",u)}const t=await c.get("/user/fileFav");if(t.status===200)this.fileFav=t.data.data;else{const u=t&&t.data&&t.data.message?t.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",u)}}catch(a){const t=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",t)}}},mounted(){this.getTotalFileAvailable(),this.getTotalFileRead(),this.getTotalFileFav(),this.getDashboard()}},O={class:"mt-2"},q={class:"mt-2"};function H(a,t,u,K,o,k){const x=L("AnalyticsCongratulations"),f=P;return i(),d(n,null,{default:s(()=>[e(l,{cols:"12",md:"12"},{default:s(()=>[e(x)]),_:1}),e(_,null,{default:s(()=>[e(n,null,{default:s(()=>[e(l,{cols:"4",md:"6"},{default:s(()=>[e(f,v(F({title:"File Tersedia",image:o.docs,stats:`${o.tFile}`,link:"/u-search"})),null,16)]),_:1}),e(l,{cols:"4",md:"6"},{default:s(()=>[e(f,v(F({title:"File Dibaca",image:o.openFile,stats:`${o.tRead}`,link:"/u-read"})),null,16)]),_:1}),e(l,{cols:"4",md:"6"},{default:s(()=>[e(f,v(F({title:"File Favorite",image:o.fileFavorite,stats:`${o.tFav}`,link:"/u-favorite"})),null,16)]),_:1})]),_:1})]),_:1}),e(I,{thickness:2,class:"border-opacity-100",color:"info"}),m("div",O,[m("div",null,[e(b,{class:"ma-2",color:"primary",variant:"outlined"},{default:s(()=>[g(" File Pilihan "),e(y,{end:"",icon:"mdi-pencil-lock",color:"purple-darken-2"})]),_:1})]),e(_,null,{default:s(()=>[e(n,null,{default:s(()=>[o.fileRandom==null?(i(),d(l,{key:0,cols:"12",md:"6"},{default:s(()=>[g(" Getting Data ..."),e(S,{indeterminate:"",color:"primary"})]),_:1})):p("",!0)]),_:1}),e(n,null,{default:s(()=>[o.fileRandom!=null?(i(!0),T(V,{key:0},w(o.fileRandom,(r,h)=>(i(),d(l,{key:h,cols:"12",md:"6"},{default:s(()=>[e(C,{title:r.file.name,subtitle:r.file.author.name,text:r.file.summary.substring(0,40)+"...",class:"mb-2",height:"200px",onClick:D=>k.toDetailFile(r.file.id)},null,8,["title","subtitle","text","onClick"])]),_:2},1024))),128)):p("",!0)]),_:1})]),_:1})]),m("div",q,[m("div",null,[e(b,{class:"ma-2",color:"primary",variant:"outlined"},{default:s(()=>[g(" File Popular "),e(y,{end:"",icon:"mdi-fire",color:"purple-darken-2"})]),_:1})]),e(_,null,{default:s(()=>[e(n,null,{default:s(()=>[o.fileFav==null?(i(),d(l,{key:0,cols:"12",md:"6"},{default:s(()=>[g(" Getting Data ..."),e(S,{indeterminate:"",color:"primary"})]),_:1})):p("",!0)]),_:1}),e(n,null,{default:s(()=>[o.fileFav!=null?(i(!0),T(V,{key:0},w(o.fileFav,(r,h)=>(i(),d(l,{key:h,cols:"12",md:"6"},{default:s(()=>[e(C,{title:r.name,subtitle:"dilihat: "+r.views_count+"x",text:r.summary.substring(0,100)+"...",class:"mb-2",height:"200px",onClick:D=>k.toDetailFile(r.id)},null,8,["title","subtitle","text","onClick"])]),_:2},1024))),128)):p("",!0)]),_:1})]),_:1})])]),_:1})}const ua=U(J,[["render",H]]);export{ua as default};
