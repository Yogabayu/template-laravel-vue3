import{A as R,c as G,a as M,p as A,w as $,d as B,u as N,b as P}from"./wallet-info-f45924b8.js";import{m as n}from"./axios-bee2a5fc.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{V as c,a as l}from"./VRow-9672392b.js";import{V as _}from"./VContainer-90608069.js";import{V as I}from"./VDivider-e6c2330d.js";import{r as L,o as i,k as d,w as s,a as t,ax as v,ab as F,b as m,e as g,l as y,V as b,c0 as S,j as p,c as T,f as w,F as V}from"./main-e96450c7.js";import{V as C}from"./VCard-431b48e4.js";import"./VMenu-cae1376c.js";import"./index-c214d2f8.js";import"./VImg-49529653.js";import"./VAvatar-510d1ca2.js";import"./VOverlay-f594c71c.js";import"./dialog-transition-dad4712f.js";import"./index-d33ef4cb.js";import"./VSpacer-fd5fda66.js";const j="/build/assets/favorite-file-71a23b1f.png",z="/build/assets/file-save-1c390715.png",E="/build/assets/open-file-591ec03b.png",J={components:{AnalyticsCongratulations:R},data(){return{userData:null,userToken:null,chart:G,card:M,paypal:A,wallet:$,docs:B,user:N,openFile:E,fileSave:z,fileFavorite:j,tFile:null,tRead:null,tFav:null,fileRandom:null,fileFav:null}},methods:{toDetailFile(a){this.$router.push(`/u-filedetail/${a}`)},getUserDataAndToken(){const a=localStorage.getItem("userData"),e=localStorage.getItem("userToken");a&&e&&(this.userData=JSON.parse(a),this.userToken=e)},async getTotalFileAvailable(){try{const a=await n.get("/user/total-file");if(a.status===200)this.tFile=a.data.data;else{const e=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",e)}}catch(a){const e=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",e)}},async getTotalFileRead(){try{const a=await n.get("/user/total-read");if(a.status===200)this.tRead=a.data.data;else{const e=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",e)}}catch(a){const e=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",e)}},async getTotalFileFav(){try{const a=await n.get("/user/total-fav");if(a.status===200)this.tFav=a.data.data;else{const e=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",e)}}catch(a){const e=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",e)}},async getDashboard(){try{const a=await n.get("/user/index");if(a.status===200)this.fileRandom=a.data.data;else{const u=a&&a.data&&a.data.message?a.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",u)}const e=await n.get("/user/fileFav");if(e.status===200)this.fileFav=e.data.data;else{const u=e&&e.data&&e.data.message?e.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",u)}}catch(a){const e=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",e)}}},mounted(){this.getTotalFileAvailable(),this.getTotalFileRead(),this.getTotalFileFav(),this.getDashboard()}},O={class:"mt-2"},q={class:"mt-2"};function H(a,e,u,K,o,k){const x=L("AnalyticsCongratulations"),f=P;return i(),d(c,null,{default:s(()=>[t(l,{cols:"12",md:"12"},{default:s(()=>[t(x)]),_:1}),t(_,null,{default:s(()=>[t(c,null,{default:s(()=>[t(l,{cols:"4",md:"6"},{default:s(()=>[t(f,v(F({title:"File Tersedia",image:o.docs,stats:`${o.tFile}`,link:"/u-search"})),null,16)]),_:1}),t(l,{cols:"4",md:"6"},{default:s(()=>[t(f,v(F({title:"File Dibaca",image:o.openFile,stats:`${o.tRead}`,link:"/u-read"})),null,16)]),_:1}),t(l,{cols:"4",md:"6"},{default:s(()=>[t(f,v(F({title:"File Favorite",image:o.fileFavorite,stats:`${o.tFav}`,link:"/u-favorite"})),null,16)]),_:1})]),_:1})]),_:1}),t(I,{thickness:2,class:"border-opacity-100",color:"info"}),m("div",O,[m("div",null,[t(b,{class:"ma-2",color:"primary",variant:"outlined"},{default:s(()=>[g(" File Pilihan "),t(y,{end:"",icon:"mdi-pencil-lock",color:"purple-darken-2"})]),_:1})]),t(_,null,{default:s(()=>[t(c,null,{default:s(()=>[o.fileRandom==null?(i(),d(l,{key:0,cols:"12",md:"6"},{default:s(()=>[g(" Getting Data ..."),t(S,{indeterminate:"",color:"primary"})]),_:1})):p("",!0),o.fileRandom!=null?(i(!0),T(V,{key:1},w(o.fileRandom,(r,h)=>(i(),d(l,{key:h,cols:"6",md:"6"},{default:s(()=>[t(C,{title:r.file.name,subtitle:r.file.author.name,text:r.file.summary.substring(0,40)+"...",class:"mb-2",height:"200px",onClick:D=>k.toDetailFile(r.file.id)},null,8,["title","subtitle","text","onClick"])]),_:2},1024))),128)):p("",!0)]),_:1})]),_:1})]),m("div",q,[m("div",null,[t(b,{class:"ma-2",color:"primary",variant:"outlined"},{default:s(()=>[g(" File Popular "),t(y,{end:"",icon:"mdi-fire",color:"purple-darken-2"})]),_:1})]),t(_,null,{default:s(()=>[t(c,null,{default:s(()=>[o.fileFav==null?(i(),d(l,{key:0,cols:"12",md:"6"},{default:s(()=>[g(" Getting Data ..."),t(S,{indeterminate:"",color:"primary"})]),_:1})):p("",!0)]),_:1}),t(c,null,{default:s(()=>[o.fileFav!=null?(i(!0),T(V,{key:0},w(o.fileFav,(r,h)=>(i(),d(l,{key:h,cols:"12",md:"6"},{default:s(()=>[t(C,{title:r.name,subtitle:"dilihat: "+r.views_count+"x",text:r.summary.substring(0,100)+"...",class:"mb-2",height:"200px",onClick:D=>k.toDetailFile(r.file.id)},null,8,["title","subtitle","text","onClick"])]),_:2},1024))),128)):p("",!0)]),_:1})]),_:1})])]),_:1})}const ua=U(J,[["render",H]]);export{ua as default};
