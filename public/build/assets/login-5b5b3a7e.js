import{m as u}from"./axios-801aee4d.js";import{l as c}from"./arthaya-5f3e6501.js";import{o as f,c as g,a as s,w as t,b as l,d as h,V as w,e as _}from"./main-b7c28bae.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import{V,a as x,b as d}from"./VCard-cae46e10.js";import{V as y}from"./VForm-1de130f7.js";import{V as k,a as m}from"./VRow-b3c64d34.js";import{V as p}from"./VTextField-6ce5f87b.js";import"./VAvatar-c6430227.js";import"./VImg-2e2f5c3a.js";import"./VCounter-12f6200a.js";import"./index-4123182c.js";const v={data(){return{userData:null,userToken:null,form:{email:"",password:"",remember:!1},isPasswordVisible:!1,logo:c}},methods:{saveUserDataAndToken(a){localStorage.setItem("userData",JSON.stringify(a.user)),localStorage.setItem("userToken",a.token.token)},forgotAlert(){alert("Silahkan Hubungi Administrator")},async login(){try{const a=navigator.userAgent,e=await u.post("/login",{email:this.form.email,password:this.form.password,device:a});if(e.status===200)this.saveUserDataAndToken(e.data),e.data.user.isAdmin?await this.$router.push("/dashboard"):await this.$router.push("/user-dashboard"),this.$showToast("success","Yeay","Selamat anda berhasil login, mengarahkan ke dashboard.....");else{const n=e&&e.data&&e.data.message?e.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",n)}}catch(a){const e=a.response&&a.response.data&&a.response.data.message?a.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",e)}}}},T={class:"auth-wrapper d-flex align-center justify-center pa-4"},S={class:"d-flex"},A=["innerHTML"],P=l("h5",{class:"text-h5 mb-1"},"Welcome 👋🏻",-1),C=l("p",{class:"mb-0"},"Please sign-in to your account",-1),M={class:"d-flex align-center justify-space-between flex-wrap mt-1 mb-4"};function U(a,e,n,j,o,i){return f(),g("div",T,[s(V,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:t(()=>[s(x,{class:"justify-center"},{prepend:t(()=>[l("div",S,[l("div",{class:"d-flex text-primary w-64 h-32",innerHTML:o.logo},null,8,A)])]),_:1}),s(d,{class:"pt-2"},{default:t(()=>[P,C]),_:1}),s(d,null,{default:t(()=>[s(y,{onSubmit:h(i.login,["prevent"])},{default:t(()=>[s(k,null,{default:t(()=>[s(m,{cols:"12"},{default:t(()=>[s(p,{modelValue:o.form.email,"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.email=r),autofocus:"",placeholder:"johndoe@email.com",label:"Email",type:"email"},null,8,["modelValue"])]),_:1}),s(m,{cols:"12"},{default:t(()=>[s(p,{modelValue:o.form.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.password=r),label:"Password",placeholder:"············",type:o.isPasswordVisible?"text":"password","append-inner-icon":o.isPasswordVisible?"bx-hide":"bx-show","onClick:appendInner":e[2]||(e[2]=r=>o.isPasswordVisible=!o.isPasswordVisible)},null,8,["modelValue","type","append-inner-icon"]),l("div",M,[l("a",{href:"#",class:"text-primary ms-2 mb-1 mt-2",onClick:e[3]||(e[3]=(...r)=>i.forgotAlert&&i.forgotAlert(...r))}," Forgot Password? ")]),s(w,{block:"",type:"submit"},{default:t(()=>[_(" Login ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])}const W=b(v,[["render",U]]);export{W as default};
