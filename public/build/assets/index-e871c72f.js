import{m as y}from"./axios-e7133cbe.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import{V as b,a as w,c as k}from"./VCard-c3650d18.js";import{V as C}from"./VTextField-2a512e0f.js";import{a as u,V as p}from"./VChip-1c648ce0.js";import{r as D,o as n,c,a,w as e,e as m,b as o,F as h,f,t as _,l as g,W as T}from"./main-8319b017.js";import{V as F}from"./VTooltip-006eaf40.js";import"./VAvatar-af93b785.js";import"./VImg-9016a5a1.js";import"./VCounter-53d67114.js";import"./index-548b635f.js";import"./VOverlay-9ff6c399.js";const P={data(){return{searchValue:"",filePath:this.$filePath,items:[],headers:[{text:"Pengunggah",value:"username",sortable:!0},{text:"File Name",value:"name",sortable:!0},{text:"Dilihat",value:"views_count",sortable:!0},{text:"File",value:"path",sortable:!0},{text:"Operation    ",value:"operation"}]}},methods:{toDetail(t){this.$router.push(`/a-popular-list/${t}`)},async getMostView(){try{const t=await y.get("/mostfileviews");if(t.status===200)this.items=t.data.data;else{const r=t&&t.data&&t.data.message?t.data.message:"Gagal. Silakan coba lagi.";this.$showToast("error","Sorry",r)}}catch(t){const r=t.response&&t.response.data&&t.response.data.message?t.response.data.message:"Gagal login. Silakan coba lagi.";this.$showToast("error","Sorry",r)}}},mounted(){this.getMostView()}},S={class:"d-flex justify-end mb-6"},M={class:"d-flex align-center pe-2 w-25"},N=o("p",null,"Data file Kosong",-1),B=o("p",null,"loading data .....",-1),E=["href"],G={class:"d-flex justify-space-between"},L=["onClick"];function $(t,r,j,I,i,V){const x=D("EasyDataTable");return n(),c("div",null,[a(b,{class:"auth-card pa-4 pt-5"},{default:e(()=>[a(w,{class:"align-left"},{default:e(()=>[a(k,{class:"text-2xl font-weight-bold"},{default:e(()=>[m(" Daftar File Populer ")]),_:1})]),_:1}),o("div",S,[o("div",M,[a(C,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:i.searchValue,"onUpdate:modelValue":r[0]||(r[0]=s=>i.searchValue=s)},null,8,["modelValue"])])]),a(x,{"show-index":"",headers:i.headers,items:i.items,"search-value":i.searchValue},{"empty-message":e(()=>[N]),loading:e(()=>[B]),"item-positions":e(s=>[a(u,{"selected-class":"text-primary",column:""},{default:e(()=>[(n(!0),c(h,null,f(s.positions,(l,d)=>(n(),c("div",{key:d},[a(p,{style:{color:"rgb(6, 84, 107)"}},{default:e(()=>[m(_(l.name),1)]),_:2},1024)]))),128))]),_:2},1024)]),"item-path":e(s=>[o("a",{href:i.filePath+s.path,target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer !important"}},[a(p,{color:"primary"},{default:e(()=>[a(g,{start:"",icon:"mdi-file"}),m(" lihat ")]),_:1})],8,E)]),"item-operation":e(s=>[o("div",G,[a(F,{location:"top",text:"Lihat Detail user akses"},{activator:e(({props:l})=>[o("button",T(l,{onClick:d=>V.toDetail(s.id)}),[a(g,{size:"20",icon:"bx-file-find",color:"red"})],16,L)]),_:2},1024)])]),"item-categories":e(s=>[a(u,{"selected-class":"text-primary",column:""},{default:e(()=>[(n(!0),c(h,null,f(s.categories,(l,d)=>(n(),c("div",{key:d},[a(p,{style:{color:"rgb(255, 153, 0)"}},{default:e(()=>[m(_(l.name),1)]),_:2},1024)]))),128))]),_:2},1024)]),_:1},8,["headers","items","search-value"])]),_:1})])}const Y=v(P,[["render",$]]);export{Y as default};
