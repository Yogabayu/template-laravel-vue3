import{m as g}from"./axios-e7133cbe.js";import{C as F,ae as B,D as N,aK as D,af as I,as as R,aM as $,ag as j,E,ac as L,H as M,ad as U,_ as K,$ as z,ai as A,aR as G,aj as H,au as q,aT as J,ak as O,P as Q,a as e,o as n,c as C,w as t,e as S,d as W,V as h,k as m,a5 as X,j as y,l as Y,F as Z,f as ee,b as c,t as v,a6 as ae,a7 as te}from"./main-dfe50748.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";import{V as x,c as oe,b as le,a as re,e as ie}from"./VCard-04bca6a4.js";import{V as ne}from"./VForm-9bb6e253.js";import{V as b}from"./VContainer-aece6123.js";import{V as p,a as r}from"./VRow-0426a3e5.js";import{V as ce}from"./VTextField-409464c9.js";import{V as de}from"./VSelect-4c96bd12.js";import{V as ue}from"./VImg-7503f38c.js";import"./VAvatar-9bc1e90a.js";import"./VCounter-541fe10d.js";import"./index-08796ded.js";import"./VMenu-d92cda4d.js";import"./VDivider-b6016ed9.js";import"./VOverlay-1decfb95.js";import"./dialog-transition-75c141db.js";import"./VCheckboxBtn-321f78cd.js";import"./VChip-79e20e4a.js";const me=F({color:String,...B(),...N(),...D(),...I(),...R(),...$(),...j(),...E(),...L()},"v-sheet"),k=M()({name:"VSheet",props:me(),setup(a,s){let{slots:i}=s;const{themeClasses:d}=U(a),{backgroundColorClasses:o,backgroundColorStyles:u}=K(z(a,"color")),{borderClasses:l}=A(a),{dimensionStyles:_}=G(a),{elevationClasses:f}=H(a),{locationStyles:w}=q(a),{positionClasses:T}=J(a),{roundedClasses:P}=O(a);return Q(()=>e(a.tag,{class:["v-sheet",d.value,o.value,l.value,f.value,T.value,P.value,a.class],style:[u.value,_.value,w.value,a.style]},i)),{}}}),fe={data(){return{items:null,categories:null,selectedCategory:null,selectedName:null}},methods:{toDetail(a){this.$router.push(`/u-filedetail/${a}`)},searchFile(){this.getFileSearch(this.selectedName,this.selectedCategory)},async favorite(a){try{const s=await g.get(`/user/setfavfile/${a}`);s.status===200?(this.getFileSearch(),this.$showToast("success","Success",s.data.message)):(this.getFileSearch(),this.$showToast("error","Sorry",s.data.message))}catch(s){this.$showToast("error","Sorry",s.response.data.message)}},async getFileSearch(a=null,s=null){try{let i="/user/search?";a!==null&&(i+=`name=${a}`),s!==null&&(i+=(a!==null?"&":"")+`category=${s}`);const d=await g.get(i);d.status===200?this.items=d.data.data:this.$showToast("error","Sorry",d.data.data.message)}catch(i){this.$showToast("error","Sorry",i.data.data.message)}},async getCategory(){try{const a=await g.get("/user/category");a.status===200?this.categories=a.data.data.map(s=>({value:s.id,title:s.name})):this.$showToast("error","Sorry",a.data.data.message)}catch(a){this.$showToast("error","Sorry",a.data.data.message)}}},mounted(){this.getFileSearch(),this.getCategory()}},V=a=>(ae("data-v-e8ce0eb1"),a=a(),te(),a),he=V(()=>c("span",{class:"subtitle-1"},"Getting Data ...",-1)),pe=V(()=>c("span",{class:"subtitle-1"},"Tidak ada file yang ditemukan",-1)),_e=V(()=>c("span",{class:"caption"},"Mohon periksa kembali nama file dan kategori",-1)),ge={class:"text-overline mb-1"},ye={class:"text-h6 mb-1"},ve={class:"text-caption"};function ke(a,s,i,d,o,u){return n(),C("div",null,[e(x,{class:"auth-card pa-4 pt-5"},{default:t(()=>[e(oe,{class:"text-2xl font-weight-bold"},{default:t(()=>[S(" Cari File ")]),_:1}),e(le,null,{default:t(()=>[e(ne,{onSubmit:W(u.searchFile,["prevent"])},{default:t(()=>[e(b,null,{default:t(()=>[e(p,{"no-gutters":""},{default:t(()=>[e(r,{cols:"12",sm:"6"},{default:t(()=>[e(k,{class:"ma-2 pa-2"},{default:t(()=>[e(ce,{placeholder:"Cari File",autofocus:"",modelValue:o.selectedName,"onUpdate:modelValue":s[0]||(s[0]=l=>o.selectedName=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{cols:"12",sm:"4"},{default:t(()=>[e(k,{class:"ma-2 pa-2"},{default:t(()=>[e(de,{label:"Pilih Kategori",items:o.categories,modelValue:o.selectedCategory,"onUpdate:modelValue":s[1]||(s[1]=l=>o.selectedCategory=l),variant:"solo-filled"},null,8,["items","modelValue"])]),_:1})]),_:1}),e(r,{cols:"12",sm:"2"},{default:t(()=>[e(k,{class:"ma-2 pa-2 d-flex justify-center"},{default:t(()=>[e(h,{class:"ma-2",variant:"text",icon:"mdi-magnify",color:"#5865f2",type:"submit"})]),_:1})]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(p,null,{default:t(()=>[o.items==null?(n(),m(r,{key:0,cols:"12",md:"12"},{default:t(()=>[e(p,{class:"text-center"},{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(X,{indeterminate:"",color:"primary"})]),_:1}),e(r,{cols:"12"},{default:t(()=>[he]),_:1})]),_:1})]),_:1})):y("",!0),o.items!=null&&o.items.length==0?(n(),m(r,{key:1,cols:"12",md:"12"},{default:t(()=>[e(p,{class:"text-center"},{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(Y,{size:"64",color:"grey lighten-2"},{default:t(()=>[S("mdi-folder-search-outline")]),_:1})]),_:1}),e(r,{cols:"12"},{default:t(()=>[pe]),_:1}),e(r,{cols:"12"},{default:t(()=>[_e]),_:1})]),_:1})]),_:1})):y("",!0),o.items!=null&&o.items.length>0?(n(!0),C(Z,{key:2},ee(o.items,(l,_)=>(n(),m(r,{key:_,cols:"12",md:"6"},{default:t(()=>[e(x,{class:"mx-auto card-style",color:"primary",variant:"tonal",hover:""},{default:t(()=>[e(ue,{src:"https://bankarthaya.com/wp-content/uploads/2023/07/desktop-1024x576-1.jpg",height:"20px",cover:""}),e(re,null,{default:t(()=>[c("div",null,[c("div",ge,v(l.file.author.name),1),c("div",ye,v(l.file.name),1),c("div",ve,v(l.file.summary.substring(0,70)+"..."),1)])]),_:2},1024),e(ie,{class:"d-flex justify-end"},{default:t(()=>[e(h,{class:"ma-2",variant:"text",icon:"mdi-open-in-new",color:"blue-lighten-2",onClick:f=>u.toDetail(l.file.id)},null,8,["onClick"]),l.file.favorite?(n(),m(h,{key:0,class:"ma-2",variant:"text",icon:"mdi-heart",color:"blue-lighten-2",onClick:f=>u.favorite(l.file.id)},null,8,["onClick"])):(n(),m(h,{key:1,class:"ma-2",variant:"text",icon:"mdi-heart-outline",color:"blue-lighten-2",onClick:f=>u.favorite(l.file.id)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):y("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])}const Ue=se(fe,[["render",ke],["__scopeId","data-v-e8ce0eb1"]]);export{Ue as default};
